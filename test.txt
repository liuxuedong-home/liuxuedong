This is a simple practise

世界气象组织
介绍
GRIB版本1和GRIB版本2
2003年6月 
1
GRIB EDITION 1和GRIB EDITION 2
历史
1.与传统的字母数字相比，GRIB代码具有很大的优势
代码，如GRID或GRAF。此代码的主要特征，尤其是在更大程度上
对于GRIB第二版（GRIB2）来说，都是自我描述，灵活性和可扩展性，它们都是
在科学技术的快速发展时期是基础。另外，GRIB提供
冷凝（包装）。字母数字编码GRID提供编码一个或多个编码的功能
两个参数（更多以事先商定的标准格式）在一个水平上或在两个水平之间或两个水平之间
在一层。GRAF是GRID的简化版本。网格允许直接可读性，但没有
尽管压缩可以通过商业途径得到应用
包。GRIB于1985年被批准投入使用。它已被使用
NWP产品的生产商以及WAFS等这些数据的事实上的用户
产品用户。
2.应国际民航组织的要求冻结了FM 92 GRIB第1版，
该软件正在使用FM 92 GRIB Edition 1发布WAFS产品。GRIB 1有
传输和存档的弱点：
?光谱数据
?多维数据
?远程和气候产品
?合奏产品
也：
饱和参数表
?缺少数据的约定
?IEEE不用于浮点数据
?不支持小时间步骤
?没有横截面
?没有时间段
?没有霍夫莫勒图（例如时间经度）
?有限的图像支持。
3.因此需要为FM 92 GRIB开发新版本2。后
几年的发展和两年的实验和验证测试，
从7月起，WMO批准了FM 92 GRIB的第二版，以提供WMO业务代码
2001年11月。GRIB的第二版支持新产品的编码，例如
集合预报系统的输出，长期预报，气候预测，集合
波浪预报或运输模型，横截面和Hovm?ller类型图。GRIB2
使今天能够提供新产品的代表，并提供便利的设施
扩张和增加。GRIB第二版的结构更加模块化，更加客观
面向GRIB的第1版。这样，未来的扩展不会打乱支持
软件。参数或属性的定义在功能和维度上是分开的
2
以便与时间，目的，生产方法，空间等有关的项目是独立的
（正交），这使得在描述新产品时软件维护更容易
或者需要新的参数。GRIB2允许编码，其中包括合奏，
概率和百分位预测，预测误差场，矩阵，卫星图像数据，
雷达数据，累计和平均参数的分析和预测以及报价
增强了描述涉及多个时间段的领域的能力。另外，GRIB 1格式是
在GRIB 2中兼容，而GRIB2支持更多的压缩方案（特别是使用
引入JPEG 2000和PNG）。
发展仍然是为了验证模板的传输
横截面和Hovm?ller类型图。GRIB 2中的第一批产品将生产
在2003年期间，EUMETSAT和ECMWF。
代码结构
5.在这些代码中，数据在消息本身中描述：这是自我描述
特征。报告开始部分将定义哪些数据
在此消息中传输。这些部分实际上将包含指向元素的指针
预定义的和国际商定的表格（存储在WMO官方代码手册中）。
一旦这些部分被读取，包含数据的消息的下一部分（
数据部分）可以理解。的确，这个特征（名称，单位等）
必须在WMO手册的表格中定义要传输的参数
代码。说明部分中的“指针”实际上是与之对应的数字
WMO手册GRIB代码表中的条目。
6. GRIB1和GRIB 2的布局如下：
GRIB1
第0节指标部分
第1节产品定义部分
第2节（网格描述部分）
第3部分（位图部分）
第4节二进制数据部分
第5节7777（结束部分）
GRIB2
第0节指标部分
第1部分识别部分
第2节（本地使用部分）
第3节网格定义部分
第4节产品定义部分
第5节数据表示部分
第6章（位图部分）
第7节二进制数据部分
第8节结束部分
3
7. GRIB2代码表格的布局如下：
FM 92-XII GRIB  - 二进制格式的常规分布式信息
代码格式：
第0节指标部分
第1部分识别部分
第2节（本地使用部分）}
 }
第3节网格定义部分}}
 }}
第4节产品定义部分}}}
 } } } （重复）
第5节数据表示部分}}（重复）}
 } （重复） } }
第6章位图部分}}}
 }}}
第7节数据部分}}}
第8节结束部分
8. GRIB1中的0和0以及GRIB2中的0和1是短节，用于标识
信息。GRIB2中的第2部分是可用于传输任何内容的可选部分
信息或参数为国家目的。它在某种程度上等同于国家
传统的字母数字代码组。
9. GRIB1的第1部分定义时间或时间段，参数，级别和网格
用过的。它可以是一个预定义的网格，只是由一个数字引用。如果网格未定义
报告必须包含第2部分，该部分将根据预定义来定义网格
WMO手册中列出的模板（例如：墨卡托，极地立体图）。第3节
包含一个“位”地图。如果数据出现在这个网格点（列在行中），则显示相应的位
设置为1.第4节从所用包装方案的定义开始（例如球形
谐波系数，简单包装，复杂包装，二次包装）。
10. GRIB使用模板的概念：“集合的标准化布局的描述
数据实体“
GRIB 1
第0节指标部分
第1节产品定义部分独特的标准模板
第2节（网格描述部分）描述一种类型的标准模板之一
格
第3部分（位图部分）
第4节二进制数据部分
第5节7777（结束部分） 
4
填充的标准模板描述了数据
第2节：网格描述部分（GDS）
Octet no。内容
 1  -  3网格描述部分的八位字节长度
 4 NV，垂直坐标参数的数量
 5 PV，垂直坐标列表的位置（八位字节编号）
 参数（如果存在的话）或PL，数字列表的位置（八位组编号）
 每行中的点数（当没有垂直参数存在时），如果存在或
 255（全部位设置为1），如果两者都不存在
 6数据表示类型（见代码表6）
7  -  32网格定义（根据数据表示类型 - 上面的八位字节6）
33-42用于旋转坐标系或拉伸坐标系的网格定义的扩展
 兰伯特共形投影或墨卡托投影
33-44空间视角透视投影的网格定义扩展
33-52拉伸和旋转坐标系的网格定义的扩展
GRIB表
模板：
 标准清单
 描述的
 信息
包括一些
 编码值
码
表条目
气象
参数或数据
 处理意义
五
GRIB 1网格
0纬度/经度网格也称为等距圆柱或平板Carree投影
1墨卡托投影
2 Gnomonic投影
3兰伯特保形，正割或正切，圆锥形或双极投影
4个高斯纬度/经度网格
5极立体投影
6通用横轴墨卡托（UTM）投影
7简单的多重投影
8 Albers等面积，正割或正切，圆锥或双极投影
9米勒的圆柱形投影
10旋转的纬度/经度网格
11-12保留
13倾斜兰伯特共形，正割或正切，圆锥形或双极投影
14旋转的高斯纬度/经度网格
15-19保留
20拉伸的纬度/经度网格
21-23保留
24拉伸高斯纬度/经度网格
25-29保留
30拉伸和旋转的纬度/经度网格
31-33保留
34拉伸并旋转高斯纬度/经度网格
35-49保留
50个球形谐波系数
51-59保留
60旋转的球谐系数
61-69保留
70拉伸球谐波
71-79保留
80-89拉伸和旋转球谐系数
90空间视角或正字法
91-191Reserved
192-254保留供本地使用
11. GRIB 1消息使得能够在单个网格上传输一个单独的域
单层或层。在GRIB2中，第3节定义了将使用的网格，但是
整套第3至第7节可以重复，以允许不同类型的网格
消息（如果需要定义本地参数，则2到7相同），从而允许
在单个消息中编码多网格，多产品，多层次和多参数字段。
如果有的话，第4节将定义产品（参数），第4节到第7节可以重复
几个参数用同一个网格传输。第5节将定义数据
表示类型（使用打包方案）。第6节定义每个数据的存在
格点（如适用），数据本身在第7节（第6节和第7节如3节）
在GRIB1中为4）。WMO代码手册中预定义的标准模板可以启用
准确定义网格，产品和包装。列出了元数据或参数的值
在引用代码表的模板中（见图1）。这些代码表在中定义
手册被组织在一个模块化的分层合奏中，可以轻松扩展
和补充。 
6
部分部分名称部分内容
第0部分：指标部分“GRIB”，Discipline，GRIB版本号，
 消息的长度
第1部分：识别部分部分的长度，部分号码，
 适用于所有已处理数据的特征
 在GRIB消息中
第2部分：本地使用部分（可选）部分的长度，部分编号，附加
 项目供当地原始中心使用
第3节：网格定义部分节的长度，节号，定义
 网格表面和其内的数据值的几何
 表面
第4部分：产品定义部分部分的长度，部分编号，说明
 数据的性质
第5部分：数据表示部分部分的长度，部分编号，说明
 如何表示数据值
第6部分：位图部分部分的长度，部分编号，指示
 在每个网格存在或不存在数据
 点，如适用
第7部分：数据部分部分的长度，部分编号，数据值
第8节：结束部分“7777”
12.在GRIB2中，当需要传输新参数或新参数时
数据类型，新元素将被简单地添加到手册中的一组表格中（待定）
CBS同意）。表驱动代码可以传输无限的信息。总数
灵活性。新“代码”的定义不再是必要的。扩张表是
足够。程序和规定是固定的。版本号与每个版本相关联
新的布局（不经常变化）。格式的版本号（消息的布局）
并且这些表的版本号在消息本身中被传送（在指示符和中
识别部分）并启用对旧的存档数据的处理。
广泛使用GRIB 2中的模板：
?第0节指标部分
?第1部分识别部分
?第2节（本地使用部分）
?第3节网格定义部分=网格定义模板（GDT） - 标准
名单
?第4节产品定义部分=产品定义模板（PDT） - 
标准清单
?第5节数据表示部分=数据表示模板
（DRT） - 标准列表
?第6部分（位图部分）
?第7节以数据模板（DT）开头的二进制数据部分
7
填充的标准模板描述了数据
GRIB 2网格
 0纬度/经度也称为等距圆柱形，或Plate Carree。
 1旋转的经度/纬度
 2延伸的纬度/经度
 3拉伸和旋转的经度/纬度
4-9保留
 10墨卡托
 11-19保留
 20极地立体图可以是南或北。
 21-29保留
 30 Lambert Conformal可以是割线或正切，圆锥形或双极。
31-39保留
 40高斯纬度/经度
 41高斯旋转经度/纬度
 拉伸高斯纬度/经度
 43拉伸并旋转高斯纬度/经度
 44-49保留
 50个球形谐波系数
 51旋转的球谐系数
 52拉伸球谐系数
 53拉伸和旋转球谐系数
 54-89保留
 90空间视角透视正射影像。
 91-99保留
 100基于二十面体的三角形网格
101-109保留
 110赤道方位等距投影
111-119保留
 120方位角范围投影
保留121-999
1000横截面网格，点在水平方向上间隔相等
1001-1099保留
1100Hovm?ller图表网格，在水平方向上点数相等
GRIB 2表
高等教育层次
码
表：
 项
气象
参数或数据
 处理意义
?用于许多模板
定义在4部分：
?标准清单
描述性信息
包括一些编码
值
8
1101- 1199保留
1200时间部分网格
1201-32767保留
32768-65534保留供本地使用
65535缺少
使用GRIB2
13. GRIB2包含所有参数和产品定义，以实现新的编码
今天由气象数据处理中心生成的产品。领域lke气候学
并预测集合预测系统和远程预测的产品
需要使用统计值，可以很容易地编码。此外使用
GRIB2消息中的重复结构允许编码多网格，多产品，
多级和多参数字段，允许传输（确实在一个大文件中）
由集合和长期预测产生的庞大产出产品。
软件
14.在CBS Ext.2002），ECMWF表示他们将制作软件（FORTRAN和C
语言）在UNIX和LINUX下运行，用于编码/解码GRIB1和/或GRIB2，
WMO会员免费提供。从2003年开始，该软件可以
从他们的网站下载适当的文件。ECMWF将升级
代码表和网站上的程序，并在必要时提供
电子邮件查询后的一些有限远程协助 